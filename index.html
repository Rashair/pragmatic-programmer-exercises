<!DOCTYPE html>
<html>

<head>
    <title>Turtle parser</title>
    <link rel="icon" type="image/png" href="./favicon.png" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.1.0/css/bootstrap.min.css">
    <style>
        body {
            height: 100vh;
            padding: 1em;
        }

        span {
            display: block;
            padding-left: 5px;
        }

        .editable {
            border: 1px solid black;
        }
    </style>
</head>

<body>

    <div class="container h-100">
        <div class="row">
            <div class="col-3">
                <h1>Turtle parser</h1>
                <p>
                    List of commands:
                <ul>
                    <li>P 2</li>
                    <li>D</li>
                    <li>U</li>
                    <li>W 2</li>
                    <li>S 2</li>
                    <li>E 2</li>
                    <li>N 2</li>
                </ul>
                </p>
            </div>
            <div class="col-3 pt-2">
                <div id="editable-content">
                    <span class="editable" contenteditable="true"></span>
                </div>
            </div>
            <div class="col">
                <canvas id="canvas"> </canvas>
            </div>

        </div>
    </div>
</body>
<script type="module">
    import "https://cdn.skypack.dev/bootstrap@5.1.0";
    import $ from "https://cdn.skypack.dev/jquery";
    import Parser from "./parser.js"

    console.info("App started");

    const enterKeyCode = 13;
    $(document).on("keypress", function (e) {
        if (e.which != enterKeyCode)
            return;

        e.preventDefault();
        console.info("Enter pressed!");

        const editable = $(".editable");
        appendNewEditableArea(editable.clone());
        makeAreaReadonly(editable);
    });

    function appendNewEditableArea(oldAreaClone) {
        oldAreaClone.text("");
        oldAreaClone.appendTo("#editable-content")
        oldAreaClone.focus();
    }

    function makeAreaReadonly(area) {
        area.removeClass("editable");
        area.attr("contenteditable", "false");
    }

</script>

</html>